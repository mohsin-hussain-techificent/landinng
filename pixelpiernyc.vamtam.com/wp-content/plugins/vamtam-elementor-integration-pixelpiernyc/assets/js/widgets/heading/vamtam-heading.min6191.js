class VamtamHeading extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{heading:".elementor-heading-title"}}}getDefaultElements(){const selectors=this.getSettings("selectors");return{$heading:this.$element.find(selectors.heading)}}onInit(...args){super.onInit(...args),this.handleTextRevealAnim()}handleTextRevealAnim(){if(!this.$element.hasClass("vamtam-has-text-reveal-anim"))return;const paragraph=this.elements.$heading[0],wordArr=paragraph.textContent.split(" ");let html="";for(let i=0;i<wordArr.length;i++)html+=`<span class="vamtam-tra-word">${wordArr[i]} </span>`;paragraph.innerHTML=html;const words=[...paragraph.querySelectorAll("span.vamtam-tra-word")],getParagraphRect=()=>{var rect=paragraph.getBoundingClientRect(),inViewport;return{inViewport:rect.top<window.innerHeight&&rect.bottom>0&&rect.left<window.innerWidth&&rect.right>0,top:rect.top,bottom:rect.bottom,left:rect.left,right:rect.right}};let isfirstRun=!0,pRect={},isMaxDeviceWidth=window.VAMTAM.isMaxDeviceWidth();const textReveal=()=>{for(let i=0;i<words.length&&(pRect.inViewport||isfirstRun);i++)if(pRect.inViewport){let{left:left,top:top}=words[i].getBoundingClientRect();top-=.5*window.innerHeight;let opacityValue=1-(.01*top+.001*left);opacityValue=opacityValue<.1?.1:opacityValue>1?1:opacityValue.toFixed(3),isfirstRun&&(isfirstRun=!1,jQuery(paragraph).css("opacity",1)),words[i].style.opacity=opacityValue}else pRect.bottom<0&&(isfirstRun=!1,jQuery(paragraph).css("opacity",1))};window.VAMTAM.addScrollHandler({init:()=>{isMaxDeviceWidth&&(pRect=getParagraphRect(),textReveal())},measure:()=>{isMaxDeviceWidth&&(pRect=getParagraphRect())},mutate:()=>{isMaxDeviceWidth&&textReveal()}}),window.addEventListener("resize",window.VAMTAM.debounce(()=>{isMaxDeviceWidth=window.VAMTAM.isMaxDeviceWidth()},100),!1)}}jQuery(window).on("elementor/frontend/init",()=>{if(elementorFrontend.elementsHandler&&elementorFrontend.elementsHandler.attachHandler)elementorFrontend.elementsHandler.attachHandler("heading",VamtamHeading);else{const addHandler=$element=>{elementorFrontend.elementsHandler.addHandler(VamtamHeading,{$element:$element})};elementorFrontend.hooks.addAction("frontend/element_ready/heading.default",addHandler,100)}});